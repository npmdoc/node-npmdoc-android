<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/benmonro/android">android (v0.0.8)</a>
</h1>
<h4>various android utils &amp; commands for node</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.android">module android</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.firstDevice">
            function <span class="apidocSignatureSpan">android.</span>firstDevice
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.install">
            function <span class="apidocSignatureSpan">android.</span>install
            <span class="apidocSignatureSpan">(pathToApk, completedCallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.isInstalled">
            function <span class="apidocSignatureSpan">android.</span>isInstalled
            <span class="apidocSignatureSpan">(pattern, isInstalledCallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.push">
            function <span class="apidocSignatureSpan">android.</span>push
            <span class="apidocSignatureSpan">(from, to, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.sendBroadcast">
            function <span class="apidocSignatureSpan">android.</span>sendBroadcast
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.android.firstDevice">module android.firstDevice</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.firstDevice.firstDevice">
            function <span class="apidocSignatureSpan">android.</span>firstDevice
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.android.install">module android.install</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.install.install">
            function <span class="apidocSignatureSpan">android.</span>install
            <span class="apidocSignatureSpan">(pathToApk, completedCallback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.android.isInstalled">module android.isInstalled</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.isInstalled.isInstalled">
            function <span class="apidocSignatureSpan">android.</span>isInstalled
            <span class="apidocSignatureSpan">(pattern, isInstalledCallback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.android.push">module android.push</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.push.push">
            function <span class="apidocSignatureSpan">android.</span>push
            <span class="apidocSignatureSpan">(from, to, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.android.sendBroadcast">module android.sendBroadcast</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.android.sendBroadcast.sendBroadcast">
            function <span class="apidocSignatureSpan">android.</span>sendBroadcast
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.android" id="apidoc.module.android">module android</a></h1>


    <h2>
        <a href="#apidoc.element.android.firstDevice" id="apidoc.element.android.firstDevice">
        function <span class="apidocSignatureSpan">android.</span>firstDevice
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">firstDevice = function (callback) {
    adbDevices = exec("adb devices", function (error, stdout, stderr) {

        var findDeviceId = /\n([\d\w\.\:]+)\s+/m;
        var match = findDeviceId.exec(stdout);

        console.log("adb devices:\n" + stdout);

        if (match != null) {
            console.log("found a device");
            callback(match[1]);
        } else {
            callback();
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
var adb = require("android");
```

Get attached device id
----------------------
```javascript
adb.<span class="apidocCodeKeywordSpan">firstDevice</span>(function(deviceId){
	if(deviceId) {
		//there's a device attached, do cool stuff
	} else {
		//no device attached
	}
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.android.install" id="apidoc.element.android.install">
        function <span class="apidocSignatureSpan">android.</span>install
        <span class="apidocSignatureSpan">(pathToApk, completedCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">install = function (pathToApk, completedCallback) {


    sys.print("installing " + pathToApk);
    var install = "adb install " + pathToApk;

    exec(install, function (err, stdout, stderr) {
        sys.print("result of " + install + ": " + stdout);

        completedCallback();
    });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
```

Installing an APK
-----------------

```javascript
adb.<span class="apidocCodeKeywordSpan">install</span>("/path/to/my.apk", function() {
	//do cool stuff
});
```

Pushing a file
--------------
```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.android.isInstalled" id="apidoc.element.android.isInstalled">
        function <span class="apidocSignatureSpan">android.</span>isInstalled
        <span class="apidocSignatureSpan">(pattern, isInstalledCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isInstalled = function (pattern, isInstalledCallback) {

    var isInstalledCommand = "adb shell pm list packages| grep package:" + pattern;
    console.log(isInstalledCommand);
    exec(isInstalledCommand, function (err, stdout, stderr) {
        console.log("result:\n" + stdout);

        isInstalledCallback(stdout.indexOf(pattern) &gt;= 0);
    });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	}
});
```

Checking to see if a package is installed (wildcards allowed)
-------------------------------------------------------------
```javascript
adb.<span class="apidocCodeKeywordSpan">isInstalled</span>("com.example.*", function(isInstalled) {
	if(isInstalled) {
		//do cool stuff
	}
});
```

Installing an APK
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.android.push" id="apidoc.element.android.push">
        function <span class="apidocSignatureSpan">android.</span>push
        <span class="apidocSignatureSpan">(from, to, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (from, to, callback) {
    exec("adb push " + from + " " + to, function(error, stdout, stderr){
        callback(error);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	//do cool stuff
});
```

Pushing a file
--------------
```javascript
adb.<span class="apidocCodeKeywordSpan">push</span>("/path/to/src", "/path/to/target", function (err) {
	if(!err) {
		//do cool stuff
	}
});
```

Sending a broadcast
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.android.sendBroadcast" id="apidoc.element.android.sendBroadcast">
        function <span class="apidocSignatureSpan">android.</span>sendBroadcast
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendBroadcast = function (options, callback) {
    var extras = "";

    for (key in options.extras) {
        extras += " -e \"" + key + "\" " + options.extras[key];
    }

    var broadcastCmd = "adb shell am broadcast -a \"" + options.action + "\"" + extras;
    console.log("sending command: " + broadcastCmd);
    exec(broadcastCmd, function (error, stdout, stderr) {

            var dataMatch = (/data="(\{.*\})"/m).exec(stdout);
            var response = {};
            if (dataMatch) {
                response.data = dataMatch[1];
                response.message = stdout;
            }
            callback(response);
        }
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

Sending a broadcast
-------------------
```javascript
var options = {action:"com.example.ACTION_JACKSON", extras:{key:"lime", pie: "good"};

adb.<span class="apidocCodeKeywordSpan">sendBroadcast</span>(options, function(response){
	console.log("response data: " + response.data);
	console.log("response message: " + response.message);
});
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.android.firstDevice" id="apidoc.module.android.firstDevice">module android.firstDevice</a></h1>


    <h2>
        <a href="#apidoc.element.android.firstDevice.firstDevice" id="apidoc.element.android.firstDevice.firstDevice">
        function <span class="apidocSignatureSpan">android.</span>firstDevice
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">firstDevice = function (callback) {
    adbDevices = exec("adb devices", function (error, stdout, stderr) {

        var findDeviceId = /\n([\d\w\.\:]+)\s+/m;
        var match = findDeviceId.exec(stdout);

        console.log("adb devices:\n" + stdout);

        if (match != null) {
            console.log("found a device");
            callback(match[1]);
        } else {
            callback();
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
var adb = require("android");
```

Get attached device id
----------------------
```javascript
adb.<span class="apidocCodeKeywordSpan">firstDevice</span>(function(deviceId){
	if(deviceId) {
		//there's a device attached, do cool stuff
	} else {
		//no device attached
	}
});
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.android.install" id="apidoc.module.android.install">module android.install</a></h1>


    <h2>
        <a href="#apidoc.element.android.install.install" id="apidoc.element.android.install.install">
        function <span class="apidocSignatureSpan">android.</span>install
        <span class="apidocSignatureSpan">(pathToApk, completedCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">install = function (pathToApk, completedCallback) {


    sys.print("installing " + pathToApk);
    var install = "adb install " + pathToApk;

    exec(install, function (err, stdout, stderr) {
        sys.print("result of " + install + ": " + stdout);

        completedCallback();
    });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
```

Installing an APK
-----------------

```javascript
adb.<span class="apidocCodeKeywordSpan">install</span>("/path/to/my.apk", function() {
	//do cool stuff
});
```

Pushing a file
--------------
```javascript
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.android.isInstalled" id="apidoc.module.android.isInstalled">module android.isInstalled</a></h1>


    <h2>
        <a href="#apidoc.element.android.isInstalled.isInstalled" id="apidoc.element.android.isInstalled.isInstalled">
        function <span class="apidocSignatureSpan">android.</span>isInstalled
        <span class="apidocSignatureSpan">(pattern, isInstalledCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isInstalled = function (pattern, isInstalledCallback) {

    var isInstalledCommand = "adb shell pm list packages| grep package:" + pattern;
    console.log(isInstalledCommand);
    exec(isInstalledCommand, function (err, stdout, stderr) {
        console.log("result:\n" + stdout);

        isInstalledCallback(stdout.indexOf(pattern) &gt;= 0);
    });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	}
});
```

Checking to see if a package is installed (wildcards allowed)
-------------------------------------------------------------
```javascript
adb.<span class="apidocCodeKeywordSpan">isInstalled</span>("com.example.*", function(isInstalled) {
	if(isInstalled) {
		//do cool stuff
	}
});
```

Installing an APK
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.android.push" id="apidoc.module.android.push">module android.push</a></h1>


    <h2>
        <a href="#apidoc.element.android.push.push" id="apidoc.element.android.push.push">
        function <span class="apidocSignatureSpan">android.</span>push
        <span class="apidocSignatureSpan">(from, to, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (from, to, callback) {
    exec("adb push " + from + " " + to, function(error, stdout, stderr){
        callback(error);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	//do cool stuff
});
```

Pushing a file
--------------
```javascript
adb.<span class="apidocCodeKeywordSpan">push</span>("/path/to/src", "/path/to/target", function (err) {
	if(!err) {
		//do cool stuff
	}
});
```

Sending a broadcast
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.android.sendBroadcast" id="apidoc.module.android.sendBroadcast">module android.sendBroadcast</a></h1>


    <h2>
        <a href="#apidoc.element.android.sendBroadcast.sendBroadcast" id="apidoc.element.android.sendBroadcast.sendBroadcast">
        function <span class="apidocSignatureSpan">android.</span>sendBroadcast
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendBroadcast = function (options, callback) {
    var extras = "";

    for (key in options.extras) {
        extras += " -e \"" + key + "\" " + options.extras[key];
    }

    var broadcastCmd = "adb shell am broadcast -a \"" + options.action + "\"" + extras;
    console.log("sending command: " + broadcastCmd);
    exec(broadcastCmd, function (error, stdout, stderr) {

            var dataMatch = (/data="(\{.*\})"/m).exec(stdout);
            var response = {};
            if (dataMatch) {
                response.data = dataMatch[1];
                response.message = stdout;
            }
            callback(response);
        }
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

Sending a broadcast
-------------------
```javascript
var options = {action:"com.example.ACTION_JACKSON", extras:{key:"lime", pie: "good"};

adb.<span class="apidocCodeKeywordSpan">sendBroadcast</span>(options, function(response){
	console.log("response data: " + response.data);
	console.log("response message: " + response.message);
});
```
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>